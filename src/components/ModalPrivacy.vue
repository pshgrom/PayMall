<template>
  <div v-if="isVisible" class="modal-overlay" @click="closeOnOverlayClick">
    <div class="modal-content" @click.stop>
      <button class="modal-close" @click="closeModal">X</button>
      <h1 class="modal-content__title">Пользовательское соглашение</h1>
      <div class="modal-wrapper">
        <h2>1. Определения и общие положения</h2>
        <p>
          1.1. Настоящее пользовательское соглашение является юридически обязательным
          документом-офертой между физическим лицом и администратором веб-сервиса Paymall.ru,
          предлагающим доступ и использование функционала сайта Paymall.ru на условиях, изложенных в
          настоящем соглашении.
        </p>
        <p>1.2. Термины, используемые в настоящем соглашении:</p>
        <p>
          1.2.2. Пользователь - физическое лицо, обладающее право- и дееспособностью для заключения
          настоящего соглашения и получения доступа к функционалу сайта.
        </p>
        <p>
          1.2.3. Регистрация - процесс заполнения учетных данных (электронная почта, пароль и
          прочее) в регистрационной форме на сайте. В результате регистрации автоматически создается
          личный кабинет пользователя для использования функционала сайта.
        </p>
        <p>
          1.2.4. Личный кабинет - защищенный техническими средствами раздел сайта, предназначенный
          для заключения, исполнения, прекращения гражданско-правовых сделок с администратором, а
          также использования дополнительных функциональных возможностей сайта, получения скидок на
          сервис, направления сообщений и уведомлений администратору, а также осуществления иных
          действий, предусмотренных функциями личного кабинета.
        </p>
        <p>
          1.2.5. Файлы Cookies - небольшие фрагменты данных, отправляемые сайтом и хранящиеся на
          компьютере пользователя, которые веб-клиент или веб-браузер пересылает веб-серверу в
          HTTP-запросе при попытке открыть страницу сайта.
        </p>
        <p>
          1.2.6. IP-адрес - уникальный сетевой адрес узла в компьютерной сети, построенной по
          протоколу IP.
        </p>
        <p>1.3. Использование сайта Пользователем включает:</p>
        <p>1.3.1. Просмотр информации, размещенной на сайте.</p>
        <p>1.3.2. Регистрацию и/или авторизацию на сайте.</p>
        <p>1.3.3. Отправление уведомлений и сообщений администратору через сайт.</p>
        <p>
          1.3.4. Совершение гражданско-правовых сделок с администратором и использование других
          функциональных возможностей сайта.
        </p>
        <h2>2. Статус соглашения</h2>
        <p>
          2.1. Настоящее соглашение является юридически обязательным соглашением между пользователем
          и администратором, предметом которого является предоставление пользователю доступа к
          использованию функционала сайта Paymall.ru.
        </p>
        <p>
          2.2. Пользователь обязуется полностью ознакомиться с условиями настоящего соглашения до
          регистрации или заказа услуг на сайте. Регистрация пользователя на сайте и оплата услуг
          означает полное и безоговорочное принятие настоящих условий соглашения.
        </p>
        <h2>3. Регистрация и использование сайта</h2>
        <p>
          3.1. При регистрации на сайте пользователь обязан предоставить администратору достоверную
          и актуальную информацию для формирования личного кабинета, включая уникальный логин и
          пароль.
        </p>
        <p>
          3.2. Пользователь несет ответственность за достоверность, актуальность, полноту и
          соответствие законодательству стран СНГ и Евросоюза предоставленной информации и ее защиту
          от претензий третьих лиц. Если администратор обнаружит неверную или недостоверную
          информацию, либо нарушение правил поведения на сайте, моральных и этических норм или
          законов стран СНГ и Евросоюза, администратор вправе заблокировать или удалить личный
          кабинет пользователя, а также ограничить доступ к функционалу сайта.
        </p>
        <p>
          3.3. Администратор обрабатывает персональные данные пользователя в соответствии с
          законодательством стран СНГ и Евросоюза. Раскрытие предоставленной пользователем
          информации может происходить только по требованию суда, правоохранительных органов или в
          иных случаях, предусмотренных законодательством.
        </p>
        <h2>4. Права и обязанности администратора</h2>
        <p>
          4.1. Администратор обязан предоставить пользователю доступ к функционалу сайта Paymall.ru
          при условии выполнения пользователем всех своих обязательств по соглашению.
        </p>
        <p>
          4.2. Администратор имеет право отказать пользователю в регистрации или заблокировать
          существующий аккаунт, если информация пользователя не соответствует действительности или
          нарушает правила поведения на сайте, моральные и этические нормы, а также законы стран СНГ
          и Евросоюза.
        </p>
        <p>
          4.3. Администратор освобождается от ответственности за действия третьих лиц, которые могут
          причинить ущерб пользователю.
        </p>
        <h2>5. Ответственность сторон</h2>
        <p>5.1. Пользователь несет ответственность за введенные ими данные на сайте.</p>
        <p>
          5.2. Администратор не несет ответственности за возможные сбои и перерывы в работе сайта,
          вызванные потерей информации.
        </p>
        <p>
          5.3. Стороны освобождаются от ответственности при наличии обстоятельств непреодолимой
          силы, которые делают невозможным выполнение своих обязательств.
        </p>
        <h2>6. Прочие условия</h2>
        <p>
          6.1. Настоящее соглашение действует с момента принятия его условий пользователем и не
          имеет ограничения по сроку действия.
        </p>
        <p>
          6.2. Принимая настоящее соглашение, пользователь соглашается на обработку своих
          персональных данных администратором в соответствии с законодательством стран СНГ и
          Евросоюза.
        </p>
        <p>
          6.3. Администратор обеспечивает защиту персональных данных пользователя от неправомерного
          доступа, изменения, раскрытия или уничтожения.
        </p>
        <p>
          6.4. При пополнении игрового аккаунта на сайте Paymall.ru, пользователь обязан указать
          свой логин в соответствии с информацией на странице товара и FAQ. Администратор не несет
          ответственности за ошибки при вводе логина, или указание никнейма вместо логина, а также
          за возможность проведения платежа в случае таких ошибок. Средства возврату в данном случае
          не подлежат.
        </p>
        <p>
          6.5. Администратор производит зачисления на игровые аккаунты (например, Steam, Genshin
          Impact и другие) в соответствии с информацией на странице товара и FAQ. Если пользователь
          осуществляет оплату для получения товара на аккаунт, который не поддерживается из-за
          региональных или других ограничений, и такая информация отражена на странице товара или
          сайте, администратор не несет ответственности и в праве отказать в возврате средств после
          проведения оплаты.
        </p>
        <p>
          6.6. Администратор обязуется обработать платеж пользователя и выполнить заказ в течение 10
          минут, если на странице товара не указана дополнительная информация о сроках зачисления
          средств. Если указанный срок превышен, администратор обязан разрешить проблему в течение 3
          рабочих дней и в качестве компенсации может начислить дополнительные средства или
          предоставить промокод на скидку по своему усмотрению.
        </p>
        <p>
          6.7. При покупке игровых кодов администратор не несет ответственности за их
          работоспособность, если они будут использованы позднее чем через две недели после
          приобретения. Администратор вправе запросить от пользователя поясняющие документы
          (скриншоты, записи или демонстрацию экрана) в случае, если код оказался нерабочим по
          словам пользователя.
        </p>
        <p>
          6.8. Попытка пользователя обмануть администратора с целью получения выгоды или
          дополнительного товара может быть расценена как мошенничество. В таком случае
          администратор вправе заблокировать пользователя на ресурсе и прекратить с ним общение.
        </p>
        <p>
          6.8.1 В случае если пользователь уверен в том, что ему не была оказана заказанная услуга,
          он может обратиться через банк партнер сервиса принимающий оплату с целью возврата
          средств.
        </p>
        <p>
          6.9. В случае форс мажорных ситуаций, администратор обязан сообщить об этом пользователю
          через каналы поддержки (социальные сети или мессенджер на сайте) и озвучить примерные
          сроки выполнения заказа.
        </p>
        <p>
          6.10. В связи с постоянными изменениями в курсах и комиссиях за конвертацию, возможны
          случаи, когда на Steam аккаунт пользователя придет сумма с погрешностью до ±1%. В случае,
          если разница превышает 50 рублей, администратор может возместить ее пользователю. Для
          разрешения таких ситуаций пользователь должен обратиться в техническую поддержку сайта.
        </p>
        <p>
          6.11. В Steam возможна смены региона аккаунта в случае зачисления средств. Пользователь
          обязан следовать инструкциям, предоставленным в FAQ, чтобы избежать таких ситуаций или,
          наоборот, совершить подобные операции. Если пользователь допустил ошибку в воспроизведении
          шагов и регион стал не тем, который ему нужен, администратор не несет за это
          ответственности и в праве отказать в возврате средств.
        </p>
        <p>
          6.12. В случае, если платежная система отклоняет реквизиты пользователя или его платеж был
          отменен, администратор сервиса не несет ответственности, и пользователь должен обратиться
          в техническую поддержку платежной системы. Paymall приветствует ваши вопросы и предложения
          относительно исполнения или изменения настоящей Политики. Для обратной связи, пожалуйста,
          воспользуйтесь нашей формой обратной связи, которая размещена в правом нижнем углу сайта.
          Вы также можете связаться с нами по адресу электронной почты paymallcase@gmail.com, чтобы
          направить запросы, касающиеся реализации ваших прав или жалоб относительно некорректности
          вашей Персональной информации или незаконной обработки. Настоящее соглашение регулирует
          отношения между пользователем и администратором в части использования сайта Paymall.ru.
          Использование сайта означает безусловное согласие и подтверждение гарантий со стороны
          пользователя в отношении положений настоящего соглашения.
        </p>
      </div>
    </div>
  </div>
</template>
<script setup lang="ts">
import { onBeforeUnmount, onMounted } from 'vue'

const props = defineProps({
  isVisible: { type: Boolean, default: false },
  closeOnOverlay: { type: Boolean, default: true },
})
const emit = defineEmits(['close'])

const closeModal = () => {
  emit('close')
}

const closeByKey = (e: KeyboardEvent) => {
  if (e.key === 'Escape') {
    closeModal()
  }
}

onMounted(() => {
  document.addEventListener('keydown', closeByKey)
})

onBeforeUnmount(() => {
  document.removeEventListener('keydown', closeByKey)
})

const closeOnOverlayClick = () => {
  if (props.closeOnOverlay) closeModal()
}
</script>

<style scoped lang="scss">
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.modal-wrapper {
  max-height: 50vh;
  overflow-y: scroll;

  h2 {
    font-size: 20px;
    margin-bottom: 12px;
  }

  p {
    margin-bottom: 8px;
  }
}

.modal-content {
  position: relative;
  background: #0f0f0f;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  max-width: 500px;
  width: 100%;

  &__title {
    text-align: center;
    font-size: 24px;
    font-family: Inter-Bold, sans-serif;
    margin-bottom: 20px;
  }
}

.modal-close {
  position: absolute;
  top: 15px;
  right: 15px;
  background: transparent;
  border: none;
  font-size: 16px;
  cursor: pointer;
  color: #fff;
  transition: opacity 0.15s ease-in;

  &:hover {
    opacity: 0.7;
  }
}
</style>
